/*! GalaxyUI - v0.0.1 - 2015-04-27 15:04 */!function(a){a.fn.galaxy=function(b){this.init(),this.option=a.extend(this.defOptions,b)},a.fn.galaxy.prototype={init:function(){this.linkInit(),this.ptrInit(),this.tapInit(),this.formInit(),this.listInit()},initLink:function(b){var c=b.currentTarget,d=a(c).data();d.href&&(location.href=d.href)},linkInit:function(){var b=this;a("body").on("click","[data-href]",function(a){b.initLink(a)})},linkOff:function(){a("[data-href]").off("click")},defOptions:{ptr:!1}},window.Galaxy=a.fn.galaxy||{},window.datas={pageWidth:document.documentElement.clientWidth,pageHeight:document.documentElement.clientHeight}}(window.Zepto),$(document).ready(function(){FastClick.attach(document.body)}),console.log("hello"),!function(a){function b(b){b.wrap("<div class=ui-select-wrap></div>");var c="<div class='ui-select-value'></div><div class='ui-select-arr ui-iconfont'></div>";a(b).before(c)}function c(b){a(".ui-select-wrap").each(function(){a(this).find(".ui-select-value").text(d(a(this)))}),b.on("change",function(){var b=a(this);b.parent().find(".ui-select-value").text(d(b))})}function d(a){return a.find("option").not(function(){return!this.selected}).text()}a.fn.galaxy.prototype.formInit=function(){var d=a(".ui-form-select");return 0==d.length?!1:(b(d),c(d),a(".ui-select-wrap"),d.val(),void 0)}}(window.Zepto),!function(a){function b(){a(".ui-list-link").on("touchstart","li",function(b){var c=b.currentTarget,d=a(this),e=setTimeout(function(){a(c).addClass("ui-list-active")},80);d.on("touchmove.active",function(){clearTimeout(e),a(c).removeClass("ui-list-active")}),d.on("touchend.active",function(){clearTimeout(e),a(c).removeClass("ui-list-active"),d.off("touchmove.active touchend.active")})})}function c(b){b.on("touchstart.slide",".ui-list-slide",function(c){var e=c.changedTouches[0];j=b.find(".ui-slide-left .ui-slide-item").length,k=b.find(".ui-slide-right .ui-slide-item").length,g=e.pageX,b.on("touchmove.slide",".ui-list-slide",function(b){b.preventDefault();var c=b.changedTouches[0],e=c.pageX-g;return"left"==i.slideAble&&e>"0"?!1:"right"==i.slideAble&&"0">=e?!1:void d(a(this),e)})}),b.on("touchend.slide",".ui-list-slide",function(a){var c=a.changedTouches[0];b.off("touchmove.slide"),h=c.pageX-g,e(b,h)})}function d(a,b){a.find(".ui-slide-main").css({transform:"translateX("+b+"px)","-webkit-transform":"-webkit-translateX("+b+"px)","transition-duration":"0s","-webkit-transition-duration":"0s"})}function e(a,b){var c=Math.abs(b);length=30>c?0:0>b?-k*i.eachLength:j*i.eachLength,f(length,a)}function f(a,b){b.find(".ui-slide-main").css({transform:"translateX("+a+"px)","-webkit-transform":"-webkit-translateX("+a+"px)","transition-property":"transform","-webkit-transition-property":"-webkit-transform","transition-duration":".6s","-webkit-transition-duration":".6s","transition-timing-function":"ease-in-out","-webkit-transition-timing-function":"ease-in-out"})}a.fn.galaxy.prototype.listInit=function(){b()};var g,h,i,j,k,l={slideAble:"left",autoRun:{left:"",right:""},eachLength:40,listEl:".ui-list"};a.fn.galaxy.prototype.listSlide=function(b){i=a.extend(l,b);var d=i.listEl;c(a(d))}}(window.Zepto),!function(a){function b(a){c();var b=a.value,d=a.type,f=a.animate,g=a.el,h=a.flexDirection,i=a.click;d?e(b,d,f,g,h,i):g&&e(b,"el",f,g,h,i)}function c(){a("body").on("touchmove",".ui-pop",function(a){a.preventDefault()})}function d(){a(".ui-pop").remove()}function e(a,b,c,d,e,g){switch(b){case"el":f(a,c,d,e);break;case"loading":break;case"fullScreen":f(a,c,d,e,!0,g);break;default:f(a,c)}}function f(b,c,e,f,g,i){var j=n[c],k=h(j,f,g);if(e)if(b)var l=a('<div class="ui-pop-str">'+b+"</div>"),m=a(e).concat(l);else var m=a(e);else m=a('<div class="ui-pop-str">'+b+"</div>");var o=k.append(m);o.appendTo("body"),i&&o.on("click",function(){d()}),"aInOut"==c&&setTimeout(function(){a(".ui-pop").remove()},1200)}function g(){a("body").off("touchmove.preSlide"),a("body").on("touchmove.preSlide",".ui-pop,.ui-alert-bac",function(a){a.preventDefault()})}function h(b,c,d){var e="row"==c?"":"flex-direction-col",f=d?"ui-pop-screen":"ui-pop-def",g=a('<div class="ui-pop ui-center '+b+" "+e+" "+f+'"></div>');return g}function i(){a(".ui-alert-bac").remove()}function j(b,c){c.value=b;var d=['<div class="ui-pop-screen ui-alert-bac ani-pop-alertBac">','<div class="ui-pop-alert ani-pop-full">','<div class="ui-alert-main">','<div class="alert-main-title">'+c.title+"</div>",'<div class="alert-main-article">'+c.value+"</div>","</div>"];c.isButton&&d.push(k(c.button));var e="</div></div>";d.push(e);var f=d.join("");a(f).appendTo("body")}function k(a){for(var b=['<div class="ui-alert-button">'],c=0;c<a.length;c++){var d='<div class="alert-button-item '+(a[c].className?a[c].className:"botton"+c)+'">'+a[c].value+"</div>";b.push(d)}return b.push("</div>"),b.join("")}function l(b){a(".ui-alert-button").on("click",".alert-button-item",function(){var c=a(this).index();b[c].handle?b[c].handle():i()})}function m(){a(".ui-alert-button").on("touchstart",".alert-button-item",function(b){var c=b.currentTarget,d=a(this),e=setTimeout(function(){a(c).addClass("active")},80);d.on("touchmove.active",function(){clearTimeout(e),a(c).removeClass("active")}),d.on("touchend.active",function(){clearTimeout(e),a(c).removeClass("active"),d.off("touchmove.active touchend.active")})})}var n={aIn:"ani-pop-sta",aInOut:"ani-pop-rem",aInClick:"ani-pop-sta",aInFull:"ani-pop-full"};a.fn.galaxy.prototype.pop=function(a){"string"==typeof a||"number"==typeof a?e(a,"","aInOut"):"object"==typeof a&&b(a),g()},a.fn.galaxy.prototype.removePop=function(){d()},a.fn.galaxy.prototype.alert=function(b,c){var d={value:"",title:window.location,isButton:!0,button:[{value:"чбошод",className:"",handle:function(){i()}}]},e=a.extend(d,c),f=JSON.stringify(b);j(f,e),m(),e.isButton&&l(e.button),g()},a.fn.galaxy.prototype.removeAlert=function(){i()}}(window.Zepto),!function(a){function b(b,c,d,e,f){for(var g=b;g>0;g--){var h=c.splice(0,d);if(1==g){for(var i=0;i<d-h.length;i++)a(e).appendTo(f);h=f.children(".ui-item-ptr"),a(h).wrapAll("<div class=ui-flex-ptr>")}else a(h).wrapAll("<div class=ui-flex-ptr>")}}a.fn.galaxy.prototype.ptrInit=function(){var c=a(".ui-ptr");if(0==c.length)return!1;for(var d=0;d<c.length;d++){var e=a(c[d]),f=e.children(".ui-item-ptr"),g=e.data().row,h=Math.ceil(f.length/g),i="<div class='ui-item-ptr'></div>";b(h,f,g,i,e)}}}(window.Zepto),!function(a){function b(){d.removeClass("active"),e.hide()}function c(){d.hasClass("active")||a(d[0]).trigger("click")}var d,e;a.fn.galaxy.prototype.tapInit=function(){return d=a(".ui-tap .ui-tap-header .ui-item-header"),e=a(".ui-tap .ui-tap-contain .ui-item-contain"),0==d.length?!1:(d.on("click",function(){var c=a(this).index();b(),a(this).addClass("active"),a(e[c]).show()}),void c())}}(window.Zepto);